<p>1</p><button>toggle</button>
<p>2</p><button>toggle</button>
<p>3</p><button>toggle</button>

<script>
  // Получаем все кнопки и абзацы
  let buttons = document.querySelectorAll('button');
  let paragraphs = document.querySelectorAll('p');

  // Создаем функцию-обработчик для кнопок
  function createToggleHandler(index) {
    return function() {
      // Тоглим класс hidden у соответствующего абзаца
      paragraphs[index].classList.toggle('hidden');
    };
  }

  // Назначаем обработчик для каждой кнопки
  for (let i = 0; i < buttons.length; i++) {
    buttons[i].addEventListener('click', createToggleHandler(i));
  }
</script>
